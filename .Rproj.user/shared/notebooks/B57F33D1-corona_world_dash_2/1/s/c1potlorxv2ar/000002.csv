"0",""
"0","download_us <- RCurl::getURL(""https://raw.githubusercontent.com/COVID19Tracking/covid-tracking-data/master/data/states_daily_4pm_et.csv"")"
"0",""
"0","data_us <- read.csv(text = download_us)"
"0",""
"0","data_us[is.na(data_us)] <- 0"
"0",""
"0","data_us_cases <- data_us %>% select(""positive"",""state"",""dateChecked"")"
"0",""
"0","data_us_cases <- data_us_cases[order(data_us_cases$dateChecked),]"
"0",""
"0","data_us_cases<-reshape(data_us_cases, v.names = ""positive"", idvar=""state"", direction = ""wide"", timevar = ""dateChecked"")"
"0",""
"0",""
"0",""
"0",""
"0",""
"0","date_us_cases <- vapply(strsplit(colnames(data_us_cases)[-1], ""positive.""), '[', character(1), 2) %>% as.Date"
"0",""
"0",""
"0",""
"0","colnames(data_us_cases) <- c(""state"" ,format(date_us_cases,""%m/%d/%y""))"
"0","rownames(data_us_cases) <- data_us_cases[,1]"
"0","data_us_cases <- data_us_cases[,-1]"
"0",""
"0",""
"0",""
"0",""
"0","total_us <- (data.frame(colSums(data_us_cases)))"
"0",""
"0",""
"0",""
"0","soma_us_v <- (data.frame(colSums(data_us_cases[c(""NY"""
"0","                        ,""NJ"""
"0","                        ,""MI"""
"0","                        , ""CA"""
"0","                        , ""MA"""
"0","                        , ""FL"""
"0","                        , ""IL"""
"0","                        , ""LA"""
"0","                        , ""WA"""
"0","                        , ""PA"""
"0","                        , ""GA"""
"0","                        , ""TX"""
"0","                        , ""CT"""
"0","                        , ""CO"""
"0","                        , ""TN"""
"0","                        , ""OH"""
"0","                        , ""IN"""
"0","                        , ""MD""),])))"
"0",""
"0","soma_us_b <- cbind(total_us, soma_us_v)"
"0",""
"0","soma_us_b <- soma_us_b %>% mutate(soma_us_b, diff= total_us - soma_us_v )"
"0",""
"0","soma_us_b <- t(soma_us_b)"
"0",""
"0",""
"0",""
"0",""
"0","rownames(soma_us_b)[1]<-""US"""
"0","rownames(soma_us_b)[3]<-""Others"""
"0",""
"0","data_us_cases <- rbind(data_us_cases, soma_us_b)"
"0",""
"0",""
"0",""
"0"," Selectedstate_us <- c(""US"""
"0","                        ,""NY"""
"0","                        ,""NJ"""
"0","                        ,""MI"""
"0","                        , ""CA"""
"0","                        , ""MA"""
"0","                        , ""FL"""
"0","                        , ""IL"""
"0","                        , ""LA"""
"0","                        , ""WA"""
"0","                        , ""PA"""
"0","                        , ""GA"""
"0","                        , ""TX"""
"0","                        , ""CT"""
"0","                        , ""CO"""
"0","                        , ""TN"""
"0","                        , ""OH"""
"0","                        , ""IN"""
"0","                        , ""MD"""
"0","                        , ""Others"""
"0","                          )"
"0",""
"0",""
"0",""
"0","N = ncol(data_us_cases)"
"0",""
"0","DT::datatable(data_us_cases[Selectedstate_us,(N-4):N],options = list("
"0","  pageLength = 20,paging = FALSE,searching = FALSE)) %>%  DT::formatStyle(columns = 0:N, fontSize = '18pt')"
